language: c

env:
- CFLAGS="-Wall -Wextra -Wunused -Wimplicit -Wreturn-type -Wdeclaration-after-statement -Wno-unknown-pragmas -Wmissing-prototypes -Wmissing-declarations -Wparentheses -Wswitch -Wtrigraphs -Wcast-qual -Wcast-align -Wwrite-strings -Wold-style-definition -Wpointer-arith"

script:
- mkdir build
- cd build
- cmake ..
- make -j 2
- make -j 2 test

matrix:
  include:
  - os: linux
    compiler: clang
    addons:
      apt:
        packages:
        - zlib1g-dev
  - os: linux
    compiler: gcc
    addons:
      apt:
        packages:
        - zlib1g-dev
  - os: osx
    compiler: clang
